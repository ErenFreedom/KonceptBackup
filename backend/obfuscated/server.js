const a0_0x1e309e=a0_0x5897;function a0_0x5897(_0x3331e2,_0x4e7557){const _0x5d8be9=a0_0x5d8b();return a0_0x5897=function(_0x58977c,_0x2dc155){_0x58977c=_0x58977c-0x1a6;let _0x1be8a3=_0x5d8be9[_0x58977c];return _0x1be8a3;},a0_0x5897(_0x3331e2,_0x4e7557);}(function(_0x321d07,_0x97cfcc){const _0x1c9875=a0_0x5897,_0x535230=_0x321d07();while(!![]){try{const _0x135e80=-parseInt(_0x1c9875(0x1ea))/0x1*(parseInt(_0x1c9875(0x1c6))/0x2)+parseInt(_0x1c9875(0x1a7))/0x3+parseInt(_0x1c9875(0x1ce))/0x4*(-parseInt(_0x1c9875(0x1c4))/0x5)+-parseInt(_0x1c9875(0x1b5))/0x6+-parseInt(_0x1c9875(0x1d2))/0x7*(parseInt(_0x1c9875(0x1dd))/0x8)+-parseInt(_0x1c9875(0x1cb))/0x9+-parseInt(_0x1c9875(0x1c2))/0xa*(-parseInt(_0x1c9875(0x1d9))/0xb);if(_0x135e80===_0x97cfcc)break;else _0x535230['push'](_0x535230['shift']());}catch(_0x16b532){_0x535230['push'](_0x535230['shift']());}}}(a0_0x5d8b,0x5cbc0));const express=require(a0_0x1e309e(0x1bd)),dotenv=require(a0_0x1e309e(0x1af)),cors=require(a0_0x1e309e(0x1b0));require('./AppDb'),dotenv[a0_0x1e309e(0x1ae)]();const app=express(),PORT=process[a0_0x1e309e(0x1cc)][a0_0x1e309e(0x1e5)]||0x138c,corsOptions={'origin':'*','methods':[a0_0x1e309e(0x1c9),a0_0x1e309e(0x1d4),a0_0x1e309e(0x1b6),a0_0x1e309e(0x1b1),'OPTIONS'],'allowedHeaders':['Content-Type',a0_0x1e309e(0x1c3),a0_0x1e309e(0x1e7),'Desigo-Authorization'],'credentials':!![],'optionsSuccessStatus':0xcc};app[a0_0x1e309e(0x1d6)](cors(corsOptions)),app[a0_0x1e309e(0x1d1)]('*',cors(corsOptions)),app['use'](express[a0_0x1e309e(0x1ba)]());const cloudAdminAuthRoutes=require('./routes/cloudAdminAuthRoutes'),cloudStaffAuthRoutes=require(a0_0x1e309e(0x1e4)),sensorRoutes=require('./routes/sensorRoutes'),activateSensorRoutes=require(a0_0x1e309e(0x1de)),syncSensorIdsRoutes=require(a0_0x1e309e(0x1d5)),sensorDataRoutes=require(a0_0x1e309e(0x1e2)),fetchSensorDataRoutes=require('./routes/fetchSensorDataRoutes'),sendSensorDataRoutes=require('./routes/sendSensorDataRoutes'),desigoAuthRoutes=require('./routes/desigoAuthRoutes'),logRoutes=require(a0_0x1e309e(0x1bb)),intervalStatusRoutes=require('./routes/intervalStatusRoutes'),desigoHeartbeatRoutes=require(a0_0x1e309e(0x1e1)),{startHeartbeatMonitor}=require(a0_0x1e309e(0x1b2)),{rehydrateIntervals}=require(a0_0x1e309e(0x1b7)),sensorJobStatusRoutes=require(a0_0x1e309e(0x1df)),syncRoutes=require(a0_0x1e309e(0x1d8)),subsiteSyncRoutes=require(a0_0x1e309e(0x1cd)),subSiteSensorRoutes=require(a0_0x1e309e(0x1be)),subSiteSensoActivationrRoutes=require('./routes/subsiteSensorActivationRoutes'),fetchSubsiteSensorDataRoutes=require('./routes/fetchSubsiteSensorData'),sendSubsiteSensorDataRoutes=require(a0_0x1e309e(0x1a9)),subsiteIntervalStatusRoutes=require(a0_0x1e309e(0x1da)),sensorSubsiteJobStatusRoutes=require(a0_0x1e309e(0x1bc)),subsiteLogsRoutes=require('./routes/subsiteLogsRoutes'),{rehydrateSubsiteIntervals,getAllCompanySubsitePairs}=require(a0_0x1e309e(0x1aa));function a0_0x5d8b(){const _0x35a65a=['8WXYZvA','/api/desigo/auth','/api/logs','options','7UzEWhQ','/api/staff/auth','POST','./routes/syncSensorIdsRoutes','use','/api/connector-data','./routes/syncRoutes','2464UMwEwK','./routes/intervalStatusSubSite','❌\x20Failed\x20to\x20rehydrate\x20sub-site\x20intervals:','/api/subsite','2612944rfobPm','./routes/activateSensorRoutes','./routes/sensorJobStatusRoutes','Connector\x20App\x20Backend\x20is\x20running!','./routes/desigoHeartbeatRoutes','./routes/sensorDataRoutes','/api/subsite/sensor','./routes/cloudStaffAuthRoutes','PORT','/api/admin/auth','x-desigo-token','get','BAOxF','2041ivEmtt','/api/sensors/job-status','566607OcSKKu','/api/local','./routes/sendSubsiteSensorDataRoutes','./utils/rehydrateSubsiteIntervals','then','status','✅\x20Connector\x20App\x20Backend\x20is\x20running\x20on\x20http://localhost:','config','dotenv','cors','DELETE','./controllers/heartbeatMonitorController','forEach','/api/subsite/sensor-data','872010scYkik','PUT','./utils/rehydrateIntervals','catch','/api/desigo','json','./routes/logRoutes','./routes/subsiteSensorJobStatus','express','./routes/subsiteSensorRoutes','listen','log','/api/subsite/logs','66960CUuoiz','Authorization','1313185Ttkkzo','/api/subsite/jobs','154UcgntZ','/api/sensors','/api/subsite/interval','GET','/api','1390941gDTZoC','env','./routes/subsiteSyncRoutes'];a0_0x5d8b=function(){return _0x35a65a;};return a0_0x5d8b();}app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1e6),cloudAdminAuthRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1d3),cloudStaffAuthRoutes),app['use']('/api/sensor',sensorRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1c7),activateSensorRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1ca),syncSensorIdsRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1a8),sensorDataRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1a8),fetchSensorDataRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1d7),sendSensorDataRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1cf),desigoAuthRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1d0),logRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1d7),intervalStatusRoutes),app['use'](a0_0x1e309e(0x1b9),desigoHeartbeatRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1a6),sensorJobStatusRoutes),app[a0_0x1e309e(0x1d6)]('/api/local-db',syncRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1dc),subsiteSyncRoutes),app['use'](a0_0x1e309e(0x1e3),subSiteSensorRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1e3),subSiteSensoActivationrRoutes),app['use'](a0_0x1e309e(0x1b4),fetchSubsiteSensorDataRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1b4),sendSubsiteSensorDataRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1c8),subsiteIntervalStatusRoutes),app['use'](a0_0x1e309e(0x1c5),sensorSubsiteJobStatusRoutes),app[a0_0x1e309e(0x1d6)](a0_0x1e309e(0x1c1),subsiteLogsRoutes),startHeartbeatMonitor(),rehydrateIntervals(),getAllCompanySubsitePairs()[a0_0x1e309e(0x1ab)](_0x178005=>{const _0x341a52=a0_0x1e309e;_0x178005[_0x341a52(0x1b3)](({companyId:_0x3e9e7b,subsiteId:_0x578a04})=>{rehydrateSubsiteIntervals(_0x3e9e7b,_0x578a04);});})[a0_0x1e309e(0x1b8)](_0x1b0847=>{const _0x5925c3=a0_0x1e309e,_0x22818e={'BAOxF':_0x5925c3(0x1db)};console['error'](_0x22818e[_0x5925c3(0x1e9)],_0x1b0847['message']);}),app[a0_0x1e309e(0x1e8)]('/',(_0x22eb37,_0x4d1742)=>{const _0x2e7d38=a0_0x1e309e,_0x3f707f={'NJMvM':_0x2e7d38(0x1e0)};_0x4d1742[_0x2e7d38(0x1ac)](0xc8)[_0x2e7d38(0x1ba)]({'message':_0x3f707f['NJMvM']});}),app[a0_0x1e309e(0x1bf)](PORT,()=>{const _0x8ac6d5=a0_0x1e309e;console[_0x8ac6d5(0x1c0)](_0x8ac6d5(0x1ad)+PORT);});