const a0_0x3f4783=a0_0x3f32;function a0_0x3e96(){const _0x17b64d=['token','✅\x20Desigo\x20Server\x20is\x20ONLINE','14797277vcwHDc','🧑\x20Logged-in\x20Windows\x20User:\x20','dgiAH','455fwrQqk','https','Agent','get','online','148YGlBEG','csrdc','❌\x20Connection\x20error:','iidNJ','71058ZgXfbh','OgAzb','Bearer\x20','174706qZCotn','https://','post','47310WGJTnK','SELECT\x20token\x20FROM\x20DesigoAuthTokens\x20ORDER\x20BY\x20id\x20DESC\x20LIMIT\x201','10orpQUK','⚠️\x20Desigo\x20responded\x20with\x20non-200:','SiFEn','7887152TnAIPb','2QCzYQp','gCLMQ','lkXhX','error','status','LuWbk','message','log','12udOxsv','5395176eMAYGu','offline','exports','2067385nWEMsh','axios','RafFK','warn','../db/sensorDB',':443/WSI/api/Heartbeat'];a0_0x3e96=function(){return _0x17b64d;};return a0_0x3e96();}(function(_0x5bd555,_0x137913){const _0x99895b=a0_0x3f32,_0x1865c5=_0x5bd555();while(!![]){try{const _0x299cd3=-parseInt(_0x99895b(0x164))/0x1*(-parseInt(_0x99895b(0x16d))/0x2)+parseInt(_0x99895b(0x167))/0x3*(-parseInt(_0x99895b(0x15d))/0x4)+parseInt(_0x99895b(0x14d))/0x5+-parseInt(_0x99895b(0x161))/0x6*(-parseInt(_0x99895b(0x158))/0x7)+-parseInt(_0x99895b(0x16c))/0x8+-parseInt(_0x99895b(0x14a))/0x9*(parseInt(_0x99895b(0x169))/0xa)+parseInt(_0x99895b(0x155))/0xb*(parseInt(_0x99895b(0x149))/0xc);if(_0x299cd3===_0x137913)break;else _0x1865c5['push'](_0x1865c5['shift']());}catch(_0x5b669c){_0x1865c5['push'](_0x1865c5['shift']());}}}(a0_0x3e96,0x82741));function a0_0x3f32(_0x49e097,_0x3128b1){const _0x3e9627=a0_0x3e96();return a0_0x3f32=function(_0x3f32c4,_0x4876cc){_0x3f32c4=_0x3f32c4-0x146;let _0x5e0ca6=_0x3e9627[_0x3f32c4];return _0x5e0ca6;},a0_0x3f32(_0x49e097,_0x3128b1);}const axios=require(a0_0x3f4783(0x14e)),os=require('os'),{db}=require(a0_0x3f4783(0x151)),https=require(a0_0x3f4783(0x159)),httpsAgent=new https[(a0_0x3f4783(0x15a))]({'rejectUnauthorized':![]}),checkDesigoHeartbeat_Internal=async()=>{const _0x445f9f=a0_0x3f4783,_0x5820d1={'JWGjm':function(_0x37775e,_0x5ed451){return _0x37775e||_0x5ed451;},'lkXhX':function(_0x4a97e6,_0x164727){return _0x4a97e6(_0x164727);},'WyiBg':'No\x20Desigo\x20token\x20found.','dgiAH':_0x445f9f(0x168),'gCLMQ':function(_0x12a475,_0x16ec26){return _0x12a475>=_0x16ec26;},'OgAzb':function(_0x74eae4,_0x4fea4d){return _0x74eae4<_0x4fea4d;},'RafFK':_0x445f9f(0x154),'iidNJ':_0x445f9f(0x15c),'csrdc':_0x445f9f(0x14b),'LuWbk':_0x445f9f(0x15f),'iZGcf':'❌\x20Critical\x20error\x20checking\x20heartbeat:'};try{const _0x228685=await new Promise((_0x133ecc,_0x383638)=>{const _0x569308=_0x445f9f;db[_0x569308(0x15b)](_0x5820d1[_0x569308(0x157)],(_0x47e3a7,_0x113a83)=>{const _0x223b1a=_0x569308;if(_0x5820d1['JWGjm'](_0x47e3a7,!_0x113a83))_0x5820d1[_0x223b1a(0x16f)](_0x383638,_0x5820d1['WyiBg']);else _0x5820d1[_0x223b1a(0x16f)](_0x133ecc,_0x113a83);});}),_0x245f3e=_0x228685[_0x445f9f(0x153)],_0x5123b9=os['userInfo']()['username'];console[_0x445f9f(0x148)](_0x445f9f(0x156)+_0x5123b9);const _0x126bc8=_0x445f9f(0x165)+_0x5123b9+_0x445f9f(0x152);try{const _0x3dc875=await axios[_0x445f9f(0x166)](_0x126bc8,{},{'headers':{'Authorization':_0x445f9f(0x163)+_0x245f3e},'timeout':0x7530,'validateStatus':()=>!![],'httpsAgent':httpsAgent});return console[_0x445f9f(0x148)]('🔁\x20Heartbeat\x20Status\x20Code:',_0x3dc875['status']),_0x5820d1[_0x445f9f(0x16e)](_0x3dc875[_0x445f9f(0x171)],0xc8)&&_0x5820d1[_0x445f9f(0x162)](_0x3dc875['status'],0x12c)?(console['log'](_0x5820d1[_0x445f9f(0x14f)]),_0x5820d1[_0x445f9f(0x160)]):(console[_0x445f9f(0x150)](_0x445f9f(0x16a),_0x3dc875[_0x445f9f(0x171)]),_0x5820d1[_0x445f9f(0x15e)]);}catch(_0x548bd9){return console[_0x445f9f(0x170)](_0x5820d1[_0x445f9f(0x146)],_0x548bd9[_0x445f9f(0x147)]),_0x5820d1[_0x445f9f(0x15e)];}}catch(_0x4951ff){return console['error'](_0x5820d1['iZGcf'],_0x4951ff['message']||_0x4951ff),_0x5820d1['csrdc'];}},checkDesigoHeartbeat=async(_0x97930f,_0x40422d)=>{const _0x371f02=a0_0x3f4783,_0x3b1004={'SiFEn':function(_0x1bc7d5){return _0x1bc7d5();}},_0x3ad759=await _0x3b1004[_0x371f02(0x16b)](checkDesigoHeartbeat_Internal);_0x40422d[_0x371f02(0x171)](0xc8)['json']({'status':_0x3ad759});};module[a0_0x3f4783(0x14c)]={'checkDesigoHeartbeat':checkDesigoHeartbeat,'checkDesigoHeartbeat_Internal':checkDesigoHeartbeat_Internal};