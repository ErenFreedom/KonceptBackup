const a0_0x30a519=a0_0x554d;function a0_0x554d(_0x19c771,_0xd01661){const _0x2e4094=a0_0x2e40();return a0_0x554d=function(_0x554dea,_0x327ce6){_0x554dea=_0x554dea-0x98;let _0xf492f0=_0x2e4094[_0x554dea];return _0xf492f0;},a0_0x554d(_0x19c771,_0xd01661);}(function(_0x30350c,_0x59e0aa){const _0x41a32d=a0_0x554d,_0x287b0d=_0x30350c();while(!![]){try{const _0x4de0e2=-parseInt(_0x41a32d(0x9c))/0x1*(parseInt(_0x41a32d(0xa4))/0x2)+parseInt(_0x41a32d(0x9b))/0x3+-parseInt(_0x41a32d(0x9d))/0x4*(parseInt(_0x41a32d(0xb2))/0x5)+parseInt(_0x41a32d(0xa8))/0x6+parseInt(_0x41a32d(0x9e))/0x7+parseInt(_0x41a32d(0xb3))/0x8*(-parseInt(_0x41a32d(0xaa))/0x9)+-parseInt(_0x41a32d(0xb9))/0xa*(parseInt(_0x41a32d(0xa1))/0xb);if(_0x4de0e2===_0x59e0aa)break;else _0x287b0d['push'](_0x287b0d['shift']());}catch(_0x33e5cc){_0x287b0d['push'](_0x287b0d['shift']());}}}(a0_0x2e40,0x3b4ce));const {db}=require(a0_0x30a519(0x99)),{checkDesigoHeartbeat_Internal}=require('./desigoHeartbeatController');function a0_0x2e40(){const _0x47b3ed=['../db/sensorDB','aceLj','1265349INDRhO','154383tDNSAR','28bGTTrj','1879780sQnLJl','UPDATE\x20IntervalControl\x20SET\x20is_fetching\x20=\x200,\x20is_sending\x20=\x200','ðŸ›‘\x20Server\x20unreachable\x20after\x203\x20errors.\x20Killing\x20jobs...','3121327WuoWCf','error','âš ï¸\x20Heartbeat\x20failure\x20','4sBvXZH','log','ðŸ›‘\x20Server\x20unreachable.\x20Killing\x20jobs...','âŒ\x20Error\x20checking\x20heartbeat:','1997994tuYZJE','AgJrm','18XsXDLR','PsxRT','ðŸ›‘\x20All\x20fetching/sending\x20jobs\x20stopped\x20(Heartbeat\x20failure).','ðŸš€\x20Heartbeat\x20monitor\x20started\x20(interval:\x2030s)','message','âŒ\x20Failed\x20to\x20stop\x20IntervalControl\x20jobs:','vnYwm','online','127255QipnqT','38992aZErzc','cgCFq','cHHVn','wpgDS','WWVrl','EAeqd','10dvbxOd','âœ…\x20Heartbeat\x20OK','warn'];a0_0x2e40=function(){return _0x47b3ed;};return a0_0x2e40();}let failureCount=0x0;const stopAllFetchingAndSending=()=>{const _0x2acd87=a0_0x30a519,_0x1fad1a={'WWVrl':_0x2acd87(0xac),'vnYwm':function(_0x2d6a20){return _0x2d6a20();}};return new Promise(_0x5940a8=>{const _0x59bdc2=_0x2acd87;db['run'](_0x59bdc2(0x9f),[],_0x273af6=>{const _0x7191fa=_0x59bdc2;_0x273af6?console['error'](_0x7191fa(0xaf),_0x273af6[_0x7191fa(0xae)]):console[_0x7191fa(0xa5)](_0x1fad1a[_0x7191fa(0xb7)]),_0x1fad1a[_0x7191fa(0xb0)](_0x5940a8);});});},monitorHeartbeat=async()=>{const _0x4a9e01=a0_0x30a519,_0x50b321={'cHHVn':function(_0x11bc5e){return _0x11bc5e();},'PsxRT':_0x4a9e01(0xba),'aceLj':function(_0x18c064,_0x10da8b){return _0x18c064>=_0x10da8b;},'wpgDS':_0x4a9e01(0xa6),'AgJrm':function(_0x1b0a04){return _0x1b0a04();},'cgCFq':function(_0x1e83ae,_0x3d0dd5){return _0x1e83ae>=_0x3d0dd5;},'EAeqd':_0x4a9e01(0xa0)};try{const _0x2478c8=await _0x50b321[_0x4a9e01(0xb5)](checkDesigoHeartbeat_Internal);_0x2478c8===_0x4a9e01(0xb1)?(failureCount=0x0,console[_0x4a9e01(0xa5)](_0x50b321[_0x4a9e01(0xab)])):(failureCount++,console[_0x4a9e01(0x98)](_0x4a9e01(0xa3)+failureCount+'/3'),_0x50b321[_0x4a9e01(0x9a)](failureCount,0x3)&&(console[_0x4a9e01(0xa2)](_0x50b321[_0x4a9e01(0xb6)]),await _0x50b321[_0x4a9e01(0xa9)](stopAllFetchingAndSending),failureCount=0x0));}catch(_0x15eaf8){failureCount++,console['error'](_0x4a9e01(0xa7),_0x15eaf8[_0x4a9e01(0xae)]),_0x50b321[_0x4a9e01(0xb4)](failureCount,0x3)&&(console[_0x4a9e01(0xa2)](_0x50b321[_0x4a9e01(0xb8)]),await _0x50b321[_0x4a9e01(0xa9)](stopAllFetchingAndSending),failureCount=0x0);}},startHeartbeatMonitor=()=>{const _0x516610=a0_0x30a519;console[_0x516610(0xa5)](_0x516610(0xad)),setInterval(monitorHeartbeat,0x7530);};module['exports']={'startHeartbeatMonitor':startHeartbeatMonitor};