function a0_0x5515(_0x1d36a3,_0x5b92ba){const _0x1cabc1=a0_0x1cab();return a0_0x5515=function(_0x551571,_0x337733){_0x551571=_0x551571-0xad;let _0x11167f=_0x1cabc1[_0x551571];return _0x11167f;},a0_0x5515(_0x1d36a3,_0x5b92ba);}function a0_0x1cab(){const _0x806d78=['\x20WHERE\x20is_active\x20=\x201','post','\x20settings\x20updated','❌\x20Error\x20fetching\x20from\x20Local\x20DB:','yJstB','PrTNq','oMzhi','axios','ZucSO','JWT_SECRET_APP','❌\x20Error\x20in\x20getAllActiveSubSiteSensors:','kkVjc','Failed\x20to\x20reactivate\x20sensor','221099wrxeDj','rkgmh','Internal\x20Server\x20Error','Pifoc','1611550hfrhCP','EIkrj','nrsLo','\x0a\x20\x20\x20\x20\x20\x20\x20SET\x20interval_seconds\x20=\x20?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20batch_size\x20=\x20?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_at\x20=\x20CURRENT_TIMESTAMP\x20\x0a\x20\x20\x20\x20\x20\x20\x20WHERE\x20bank_id\x20=\x20?\x20AND\x20is_active\x20=\x200','Activation\x20failed','daKDI','verify','Sensor\x20reactivated\x20successfully','CLOUD_API_URL','Lakyx','efvif','❌\x20Failed\x20to\x20reactivate\x20sub-site\x20sensor:','whQAV','DROP\x20TABLE\x20IF\x20EXISTS\x20','Failed\x20to\x20fetch\x20local\x20sub-site\x20sensors','436DJQjkE','8373Dozgkr','868707wKmhcJ','nmVhW','changes','message','282654dzAGnw','env','exports','UPDATE\x20','❌\x20Error\x20removing\x20subsite\x20sensor:','HGuRn','24ARipCs','\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sensor_id\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20quality\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20quality_good\x20BOOLEAN,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timestamp\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(sensor_id)\x20REFERENCES\x20SensorBank_','Sensor\x20ID\x20and\x20Subsite\x20ID\x20required','❌\x20Error\x20updating\x20sub-site\x20sensor\x20settings:','batch_size','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20','tuPkN','tTgcf','\x20reactivated\x20locally.','/api/subsite/sensor/activation/activate','Local\x20deactivation\x20failed','error','No\x20token\x20found','emnDw','EcLAP','SensorData_','status','FcFTm','(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','❌\x20Failed\x20to\x20delete\x20from\x20','❌\x20DB\x20Insert\x20failed:','eikOm','jVsKF','❌\x20Error\x20activating\x20sub-site\x20sensor:','map','❌\x20Error\x20updating\x20local\x20sub-site\x20DB:','RxIkN','Table\x20creation\x20failed','7pUxjqq','query','utqwY','agQhI','jsonwebtoken','DELETE\x20FROM\x20','wavYR','\x20SET\x20is_active\x20=\x200\x20WHERE\x20bank_id\x20=\x20?','log','\x20settings\x20updated\x20successfully','Sensor\x20activated\x20successfully','/api/subsite/sensor/reactivate','Deactivation\x20failed','SELECT\x20token\x20FROM\x20AuthTokens\x20ORDER\x20BY\x20id\x20DESC\x20LIMIT\x201','\x20WHERE\x20bank_id\x20=\x20?','All\x20fields\x20are\x20required','Kmldo','❌\x20Failed\x20to\x20drop\x20table\x20','all','2087994GEYBXw','PGVOU','CCIyA','VXJvM','data','TZRhA','Sensor\x20removed\x20and\x20table\x20dropped','get','json','Sensor_','DKazV','/api/subsite/sensor/activation/deactivate','Sensor\x20ID\x20and\x20sub-site\x20ID\x20are\x20required','bank_id','✅\x20Sub-site\x20Sensor\x20','Sensor\x20must\x20be\x20deactivated\x20to\x20update\x20settings','KJvGf','../db/sensorDB','token','Bearer\x20','config','body','✅\x20Sub-site\x20sensor\x20reactivated\x20in\x20Cloud:','HDStg','12854520NpuIXF','run','response','HuVUS','dotenv','/api/subsite/sensor/active?subsite_id=','JenII','interval_seconds','❌\x20Error\x20deactivating\x20subsite\x20sensor:','JBPlP','sensors','Fetched\x20sub-site\x20active\x20sensors\x20with\x20local\x20settings','ATSvF','companyId','WNFYn'];a0_0x1cab=function(){return _0x806d78;};return a0_0x1cab();}const a0_0x3bb06b=a0_0x5515;(function(_0x1dd737,_0x230420){const _0x657b1d=a0_0x5515,_0xe22cef=_0x1dd737();while(!![]){try{const _0x54d1af=-parseInt(_0x657b1d(0xcf))/0x1+-parseInt(_0x657b1d(0xe8))/0x2+-parseInt(_0x657b1d(0xe3))/0x3*(-parseInt(_0x657b1d(0xe2))/0x4)+-parseInt(_0x657b1d(0xd3))/0x5+parseInt(_0x657b1d(0x11d))/0x6*(-parseInt(_0x657b1d(0x10a))/0x7)+-parseInt(_0x657b1d(0xee))/0x8*(parseInt(_0x657b1d(0xe4))/0x9)+parseInt(_0x657b1d(0xb3))/0xa;if(_0x54d1af===_0x230420)break;else _0xe22cef['push'](_0xe22cef['shift']());}catch(_0x39b659){_0xe22cef['push'](_0xe22cef['shift']());}}}(a0_0x1cab,0x41467));const axios=require(a0_0x3bb06b(0xc9)),jwt=require(a0_0x3bb06b(0x10e)),{db,createSensorDataTable}=require(a0_0x3bb06b(0x12e));require(a0_0x3bb06b(0xb7))[a0_0x3bb06b(0xaf)]();const getStoredToken=()=>{const _0xad94af=a0_0x3bb06b,_0x37039a={'kkVjc':function(_0xbd8b94,_0x6597a9){return _0xbd8b94(_0x6597a9);},'ZWWeI':_0xad94af(0x117)};return new Promise((_0x9f1877,_0x3beeda)=>{const _0x582c36=_0xad94af,_0x2e0bf7={'utqwY':function(_0x3018ac,_0x3cff03){return _0x3018ac||_0x3cff03;},'YyCLq':function(_0x3e2cf4,_0x578883){return _0x37039a['kkVjc'](_0x3e2cf4,_0x578883);},'Lakyx':function(_0x5f3a39,_0x2663d5){const _0x37a36e=a0_0x5515;return _0x37039a[_0x37a36e(0xcd)](_0x5f3a39,_0x2663d5);}};db[_0x582c36(0x124)](_0x37039a['ZWWeI'],[],(_0xa17e90,_0x3b1d6d)=>{const _0x548c28=_0x582c36;if(_0x2e0bf7[_0x548c28(0x10c)](_0xa17e90,!_0x3b1d6d))return _0x2e0bf7['YyCLq'](_0x3beeda,_0x548c28(0xfa));_0x2e0bf7[_0x548c28(0xdc)](_0x9f1877,_0x3b1d6d[_0x548c28(0xad)]);});});},getAdminDetailsFromToken=async()=>{const _0x2871cc=a0_0x3bb06b,_0x1c553e=await getStoredToken(),_0x11cff7=jwt[_0x2871cc(0xd9)](_0x1c553e,process[_0x2871cc(0xe9)][_0x2871cc(0xcb)]);return{'token':_0x1c553e,'companyId':_0x11cff7[_0x2871cc(0xc0)]};},activateSubSiteSensor=async(_0x41f4b4,_0x40e807)=>{const _0x38005f=a0_0x3bb06b,_0xa1174f={'daKDI':_0x38005f(0x109),'EAeEE':_0x38005f(0x114),'FcFTm':_0x38005f(0x102),'ZucSO':'Local\x20DB\x20insert\x20failed','pYrFQ':function(_0x34b3e7,_0x32daee){return _0x34b3e7||_0x32daee;},'tuPkN':'Sensor\x20ID\x20and\x20Subsite\x20ID\x20required','ZQpKw':function(_0xd01662){return _0xd01662();},'jVsKF':function(_0x1e7ed1,_0x148143){return _0x1e7ed1??_0x148143;},'whQAV':_0x38005f(0xd7)};try{const {sensorId:_0x534ddb,subsiteId:_0x24eeb2,interval_seconds:_0x3edde4,batch_size:_0x195930}=_0x41f4b4[_0x38005f(0xb0)];if(_0xa1174f['pYrFQ'](!_0x534ddb,!_0x24eeb2))return _0x40e807[_0x38005f(0xfe)](0x190)[_0x38005f(0x125)]({'message':_0xa1174f[_0x38005f(0xf4)]});const {token:_0x1bb060,companyId:_0x16d976}=await _0xa1174f['ZQpKw'](getAdminDetailsFromToken),_0x4a6b98=_0xa1174f[_0x38005f(0x104)](_0x3edde4,0xa),_0xbb922=_0x195930??0x5,_0x33c498=process[_0x38005f(0xe9)][_0x38005f(0xdb)]+_0x38005f(0xf7);await axios['post'](_0x33c498,{'sensorId':_0x534ddb,'subsiteId':_0x24eeb2,'companyId':_0x16d976},{'headers':{'Authorization':_0x38005f(0xae)+_0x1bb060}});const _0x3eb671=_0x38005f(0x126)+_0x16d976+'_'+_0x24eeb2,_0x1f1de8='SensorData_'+_0x16d976+'_'+_0x24eeb2+'_'+_0x534ddb;db[_0x38005f(0xb4)]('INSERT\x20INTO\x20'+_0x3eb671+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20(id,\x20bank_id,\x20mode,\x20interval_seconds,\x20batch_size,\x20is_active,\x20created_at,\x20updated_at)\x0a\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20\x27manual\x27,\x20?,\x20?,\x201,\x20datetime(\x27now\x27),\x20datetime(\x27now\x27))\x0a\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(id)\x20DO\x20UPDATE\x20SET\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20is_active\x20=\x201,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20interval_seconds\x20=\x20excluded.interval_seconds,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20batch_size\x20=\x20excluded.batch_size',[_0x534ddb,_0x534ddb,_0x4a6b98,_0xbb922],_0x39ba87=>{const _0x49a5e0=_0x38005f,_0x106a5f={'LOjET':_0xa1174f[_0x49a5e0(0xd8)],'nrsLo':_0xa1174f['EAeEE']};if(_0x39ba87)return console[_0x49a5e0(0xf9)](_0xa1174f[_0x49a5e0(0xff)],_0x39ba87[_0x49a5e0(0xe7)]),_0x40e807[_0x49a5e0(0xfe)](0x1f4)[_0x49a5e0(0x125)]({'message':_0xa1174f[_0x49a5e0(0xca)]});db[_0x49a5e0(0xb4)](_0x49a5e0(0xf3)+_0x1f1de8+_0x49a5e0(0xef)+_0x16d976+'_'+_0x24eeb2+_0x49a5e0(0x100),_0x4b555c=>{const _0x3b5489=_0x49a5e0;if(_0x4b555c)return console[_0x3b5489(0xf9)]('❌\x20Failed\x20to\x20create\x20SensorData\x20table\x20'+_0x1f1de8+':',_0x4b555c[_0x3b5489(0xe7)]),_0x40e807[_0x3b5489(0xfe)](0x1f4)[_0x3b5489(0x125)]({'message':_0x106a5f['LOjET']});_0x40e807['status'](0xc8)[_0x3b5489(0x125)]({'message':_0x106a5f[_0x3b5489(0xd5)]});});});}catch(_0x3baade){console[_0x38005f(0xf9)](_0x38005f(0x105),_0x3baade[_0x38005f(0xe7)]),_0x40e807[_0x38005f(0xfe)](0x1f4)[_0x38005f(0x125)]({'message':_0xa1174f[_0x38005f(0xdf)],'error':_0x3baade[_0x38005f(0xe7)]});}},deactivateSubSiteSensor=async(_0x39a63d,_0x3b0934)=>{const _0x55925b=a0_0x3bb06b,_0x1b12d5={'eikOm':'❌\x20DB\x20update\x20failed:','Nojos':_0x55925b(0xf8),'EIkrj':'Sensor\x20deactivated\x20successfully','agQhI':function(_0x728614,_0x5558e2){return _0x728614||_0x5558e2;},'FQikU':_0x55925b(0xf0),'WNFYn':function(_0x506526){return _0x506526();},'Kmldo':_0x55925b(0xbb)};try{const {sensorId:_0x3d406f,subsiteId:_0x5a5bce}=_0x39a63d[_0x55925b(0xb0)];if(_0x1b12d5[_0x55925b(0x10d)](!_0x3d406f,!_0x5a5bce))return _0x3b0934[_0x55925b(0xfe)](0x190)[_0x55925b(0x125)]({'message':_0x1b12d5['FQikU']});const {token:_0x4f62d0,companyId:_0x2f1f59}=await _0x1b12d5[_0x55925b(0xc1)](getAdminDetailsFromToken),_0x50dd0e=process[_0x55925b(0xe9)][_0x55925b(0xdb)]+_0x55925b(0x128);await axios[_0x55925b(0xc3)](_0x50dd0e,{'sensorId':_0x3d406f,'subsiteId':_0x5a5bce},{'headers':{'Authorization':_0x55925b(0xae)+_0x4f62d0}});const _0x36433c=_0x55925b(0x126)+_0x2f1f59+'_'+_0x5a5bce;db[_0x55925b(0xb4)]('UPDATE\x20'+_0x36433c+_0x55925b(0x111),[_0x3d406f],_0x1f7d68=>{const _0x46864c=_0x55925b;if(_0x1f7d68)return console['error'](_0x1b12d5[_0x46864c(0x103)],_0x1f7d68[_0x46864c(0xe7)]),_0x3b0934[_0x46864c(0xfe)](0x1f4)[_0x46864c(0x125)]({'message':_0x1b12d5['Nojos']});_0x3b0934[_0x46864c(0xfe)](0xc8)[_0x46864c(0x125)]({'message':_0x1b12d5[_0x46864c(0xd4)]});});}catch(_0x21649a){console[_0x55925b(0xf9)](_0x1b12d5[_0x55925b(0x11a)],_0x21649a[_0x55925b(0xe7)]),_0x3b0934[_0x55925b(0xfe)](0x1f4)['json']({'message':_0x55925b(0x116),'error':_0x21649a['message']});}},removeSubSiteSensor=async(_0x2ab41d,_0x3e88cf)=>{const _0x11df5f=a0_0x3bb06b,_0x21b020={'nmVhW':_0x11df5f(0x123),'VXJvM':_0x11df5f(0xf0),'wavYR':function(_0x5b1f49){return _0x5b1f49();},'HGuRn':_0x11df5f(0xec),'DKazV':'Removal\x20failed'};try{const {sensorId:_0x24aee8,subsiteId:_0x197af1}=_0x2ab41d[_0x11df5f(0xb0)];if(!_0x24aee8||!_0x197af1)return _0x3e88cf[_0x11df5f(0xfe)](0x190)[_0x11df5f(0x125)]({'message':_0x21b020[_0x11df5f(0x120)]});const {token:_0xc2420a,companyId:_0xf6ec69}=await _0x21b020[_0x11df5f(0x110)](getAdminDetailsFromToken),_0xc12a8c=process[_0x11df5f(0xe9)]['CLOUD_API_URL']+'/api/subsite/sensor/activation/remove';await axios[_0x11df5f(0xc3)](_0xc12a8c,{'sensorId':_0x24aee8,'subsiteId':_0x197af1},{'headers':{'Authorization':_0x11df5f(0xae)+_0xc2420a}});const _0x4f9daa=_0x11df5f(0x126)+_0xf6ec69+'_'+_0x197af1,_0x34cae1=_0x11df5f(0xfd)+_0xf6ec69+'_'+_0x197af1+'_'+_0x24aee8;db[_0x11df5f(0xb4)](_0x11df5f(0x10f)+_0x4f9daa+_0x11df5f(0x118),[_0x24aee8],_0x3e5482=>{const _0x6b9e29=_0x11df5f;if(_0x3e5482)console[_0x6b9e29(0xf9)](_0x6b9e29(0x101)+_0x4f9daa+':',_0x3e5482[_0x6b9e29(0xe7)]);else db['run'](_0x6b9e29(0xe0)+_0x34cae1,async _0x3afaad=>{const _0x46ce1d=_0x6b9e29;if(_0x3afaad)console[_0x46ce1d(0xf9)](_0x46ce1d(0x11b)+_0x34cae1+':',_0x3afaad[_0x46ce1d(0xe7)]);else _0x3e88cf[_0x46ce1d(0xfe)](0xc8)[_0x46ce1d(0x125)]({'message':_0x21b020[_0x46ce1d(0xe5)]});});});}catch(_0x3fd3f0){console['error'](_0x21b020[_0x11df5f(0xed)],_0x3fd3f0[_0x11df5f(0xe7)]),_0x3e88cf[_0x11df5f(0xfe)](0x1f4)[_0x11df5f(0x125)]({'message':_0x21b020[_0x11df5f(0x127)],'error':_0x3fd3f0[_0x11df5f(0xe7)]});}},getAllActiveSubSiteSensors=async(_0x1fedea,_0x3dc26a)=>{const _0x1c1f80=a0_0x3bb06b,_0x43b554={'hhcmh':function(_0x4ad613,_0xf7b26a){return _0x4ad613(_0xf7b26a);},'JBPlP':_0x1c1f80(0xe1),'WSKeE':function(_0x430556,_0x218a7e){return _0x430556(_0x218a7e);},'yfYzZ':'Sub-site\x20ID\x20is\x20required','KJvGf':function(_0x1c7ec0){return _0x1c7ec0();},'yJstB':function(_0x27d30d){return _0x27d30d();},'ATSvF':_0x1c1f80(0xbe),'PGVOU':'Internal\x20Server\x20Error'};try{const {subsiteId:_0x59ab2d}=_0x1fedea[_0x1c1f80(0x10b)];if(!_0x59ab2d)return _0x3dc26a[_0x1c1f80(0xfe)](0x190)[_0x1c1f80(0x125)]({'message':_0x43b554['yfYzZ']});const _0x210061=await _0x43b554[_0x1c1f80(0x12d)](getStoredToken),_0x5d77c0=await _0x43b554[_0x1c1f80(0xc6)](getCompanyIdFromToken),_0x34b8a4=process[_0x1c1f80(0xe9)][_0x1c1f80(0xdb)]+_0x1c1f80(0xb8)+_0x59ab2d,_0x33f4c1=await axios[_0x1c1f80(0x124)](_0x34b8a4,{'headers':{'Authorization':_0x1c1f80(0xae)+_0x210061}}),_0x1ee6be=_0x33f4c1[_0x1c1f80(0x121)]?.[_0x1c1f80(0xbd)]||[],_0x520d11='Sensor_'+_0x5d77c0+'_'+_0x59ab2d,_0xbc80fa=await new Promise((_0x1f0c3b,_0x51ffe2)=>{const _0x59b29a=_0x1c1f80;db[_0x59b29a(0x11c)]('SELECT\x20bank_id,\x20interval_seconds,\x20batch_size\x20FROM\x20'+_0x520d11+_0x59b29a(0xc2),[],(_0x418bee,_0x1eb517)=>{const _0x2f034d=_0x59b29a;if(_0x418bee)return console[_0x2f034d(0xf9)](_0x2f034d(0xc5),_0x418bee[_0x2f034d(0xe7)]),_0x43b554['hhcmh'](_0x51ffe2,_0x43b554[_0x2f034d(0xbc)]);_0x43b554['WSKeE'](_0x1f0c3b,_0x1eb517);});}),_0x2e0823=_0x1ee6be[_0x1c1f80(0x106)](_0x1d345c=>{const _0x1a3310=_0x1c1f80,_0xc61f98=_0xbc80fa['find'](_0x54d770=>Number(_0x54d770[_0x1a3310(0x12a)])===Number(_0x1d345c[_0x1a3310(0x12a)]));return{..._0x1d345c,'interval_seconds':_0xc61f98?.[_0x1a3310(0xba)]||0xa,'batch_size':_0xc61f98?.[_0x1a3310(0xf2)]||0x1};});_0x3dc26a[_0x1c1f80(0xfe)](0xc8)[_0x1c1f80(0x125)]({'message':_0x43b554[_0x1c1f80(0xbf)],'sensors':_0x2e0823});}catch(_0x53d423){console[_0x1c1f80(0xf9)](_0x1c1f80(0xcc),_0x53d423),_0x3dc26a[_0x1c1f80(0xfe)](0x1f4)[_0x1c1f80(0x125)]({'message':_0x43b554[_0x1c1f80(0x11e)],'error':_0x53d423[_0x1c1f80(0xe7)]});}},reactivateSubSiteSensor=async(_0x2ed8fc,_0x2b5655)=>{const _0x1ae4b0=a0_0x3bb06b,_0x4a8973={'oMzhi':_0x1ae4b0(0x107),'rkgmh':function(_0x39b135){return _0x39b135();},'HDStg':_0x1ae4b0(0xb1),'emnDw':_0x1ae4b0(0xde),'RxIkN':_0x1ae4b0(0xce)};try{const {sensorId:_0x6b4de2,subsiteId:_0x4fafb2}=_0x2ed8fc[_0x1ae4b0(0xb0)];if(!_0x6b4de2||!_0x4fafb2)return _0x2b5655[_0x1ae4b0(0xfe)](0x190)['json']({'message':_0x1ae4b0(0x129)});const _0xc0163b=await _0x4a8973[_0x1ae4b0(0xd0)](getStoredToken),_0x3e8fc7=await _0x4a8973[_0x1ae4b0(0xd0)](getCompanyIdFromToken),_0x1f727c=process[_0x1ae4b0(0xe9)][_0x1ae4b0(0xdb)]+_0x1ae4b0(0x115),_0x31968d=await axios[_0x1ae4b0(0xc3)](_0x1f727c,{'sensorId':_0x6b4de2,'subsiteId':_0x4fafb2},{'headers':{'Authorization':'Bearer\x20'+_0xc0163b}});console['log'](_0x4a8973[_0x1ae4b0(0xb2)],_0x31968d[_0x1ae4b0(0x121)]);const _0x18f738=_0x1ae4b0(0x126)+_0x3e8fc7+'_'+_0x4fafb2;db['run'](_0x1ae4b0(0xeb)+_0x18f738+'\x20SET\x20is_active\x20=\x201\x20WHERE\x20bank_id\x20=\x20?',[_0x6b4de2],_0xb09036=>{const _0x388c4b=_0x1ae4b0;_0xb09036?console[_0x388c4b(0xf9)](_0x4a8973[_0x388c4b(0xc8)],_0xb09036[_0x388c4b(0xe7)]):console[_0x388c4b(0x112)](_0x388c4b(0x12b)+_0x6b4de2+_0x388c4b(0xf6));}),_0x2b5655[_0x1ae4b0(0xfe)](0xc8)['json']({'message':_0x1ae4b0(0xda),'cloudResponse':_0x31968d[_0x1ae4b0(0x121)]});}catch(_0x545eaa){console[_0x1ae4b0(0xf9)](_0x4a8973[_0x1ae4b0(0xfb)],_0x545eaa[_0x1ae4b0(0xb5)]?.[_0x1ae4b0(0x121)]||_0x545eaa[_0x1ae4b0(0xe7)]),_0x2b5655[_0x1ae4b0(0xfe)](0x1f4)[_0x1ae4b0(0x125)]({'message':_0x4a8973[_0x1ae4b0(0x108)],'error':_0x545eaa[_0x1ae4b0(0xe7)]});}},updateSubSiteSensorSettings=async(_0x4a2151,_0x17574f)=>{const _0x5059b5=a0_0x3bb06b,_0x53a35d={'JenII':'❌\x20Error\x20updating\x20sensor\x20settings:','HuVUS':'Update\x20failed','PrTNq':function(_0x5be6b7,_0x1e71b0){return _0x5be6b7===_0x1e71b0;},'YSJhB':_0x5059b5(0x12c),'CCIyA':function(_0x542bac,_0x161948){return _0x542bac||_0x161948;},'Pifoc':function(_0x57ec04,_0x16802b){return _0x57ec04==_0x16802b;},'tTgcf':function(_0x25c63e,_0x3dd77a){return _0x25c63e==_0x3dd77a;},'TZRhA':_0x5059b5(0x119),'EcLAP':function(_0x58b8f2){return _0x58b8f2();},'efvif':_0x5059b5(0xf1),'IFhlI':_0x5059b5(0xd1)};try{const {sensorId:_0x190fc0,subsiteId:_0x122ffd,interval_seconds:_0x1573f3,batch_size:_0x4e66ab}=_0x4a2151[_0x5059b5(0xb0)];if(_0x53a35d[_0x5059b5(0x11f)](!_0x190fc0,!_0x122ffd)||_0x53a35d[_0x5059b5(0xd2)](_0x1573f3,null)||_0x53a35d[_0x5059b5(0xf5)](_0x4e66ab,null))return _0x17574f[_0x5059b5(0xfe)](0x190)[_0x5059b5(0x125)]({'message':_0x53a35d[_0x5059b5(0x122)]});const {companyId:_0x1e6b23}=await _0x53a35d[_0x5059b5(0xfc)](getAdminDetailsFromToken),_0x14b6ff='Sensor_'+_0x1e6b23+'_'+_0x122ffd;db[_0x5059b5(0xb4)]('UPDATE\x20'+_0x14b6ff+_0x5059b5(0xd6),[_0x1573f3,_0x4e66ab,_0x190fc0],function(_0xb017cf){const _0x393bcd=_0x5059b5;if(_0xb017cf)return console['error'](_0x53a35d[_0x393bcd(0xb9)],_0xb017cf[_0x393bcd(0xe7)]),_0x17574f[_0x393bcd(0xfe)](0x1f4)[_0x393bcd(0x125)]({'message':_0x53a35d[_0x393bcd(0xb6)],'error':_0xb017cf[_0x393bcd(0xe7)]});if(_0x53a35d[_0x393bcd(0xc7)](this[_0x393bcd(0xe6)],0x0))return _0x17574f[_0x393bcd(0xfe)](0x190)['json']({'message':_0x53a35d['YSJhB']});console[_0x393bcd(0x112)]('✅\x20Sensor\x20'+_0x190fc0+_0x393bcd(0xc4)),_0x17574f[_0x393bcd(0xfe)](0xc8)[_0x393bcd(0x125)]({'message':'Sensor\x20'+_0x190fc0+_0x393bcd(0x113)});});}catch(_0x495a09){console[_0x5059b5(0xf9)](_0x53a35d[_0x5059b5(0xdd)],_0x495a09[_0x5059b5(0xe7)]),_0x17574f[_0x5059b5(0xfe)](0x1f4)['json']({'message':_0x53a35d['IFhlI'],'error':_0x495a09['message']});}};module[a0_0x3bb06b(0xea)]={'activateSubSiteSensor':activateSubSiteSensor,'deactivateSubSiteSensor':deactivateSubSiteSensor,'removeSubSiteSensor':removeSubSiteSensor,'getAllActiveSubSiteSensors':getAllActiveSubSiteSensors,'reactivateSubSiteSensor':reactivateSubSiteSensor,'updateSubSiteSensorSettings':updateSubSiteSensorSettings};