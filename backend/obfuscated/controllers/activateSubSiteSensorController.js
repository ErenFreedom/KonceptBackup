const a0_0x29d32d=a0_0x1b6c;(function(_0x3c614c,_0x228339){const _0x29045e=a0_0x1b6c,_0x25f277=_0x3c614c();while(!![]){try{const _0x177361=parseInt(_0x29045e(0x237))/0x1*(parseInt(_0x29045e(0x25e))/0x2)+parseInt(_0x29045e(0x257))/0x3*(parseInt(_0x29045e(0x20d))/0x4)+parseInt(_0x29045e(0x220))/0x5*(-parseInt(_0x29045e(0x23d))/0x6)+-parseInt(_0x29045e(0x207))/0x7*(-parseInt(_0x29045e(0x1eb))/0x8)+parseInt(_0x29045e(0x241))/0x9+parseInt(_0x29045e(0x209))/0xa+-parseInt(_0x29045e(0x255))/0xb;if(_0x177361===_0x228339)break;else _0x25f277['push'](_0x25f277['shift']());}catch(_0x2a911c){_0x25f277['push'](_0x25f277['shift']());}}}(a0_0x5e21,0x495a6));function a0_0x5e21(){const _0x47c498=['(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','CLOUD_API_URL','HDGgu','env','\x20settings\x20updated','json','All\x20fields\x20are\x20required','❌\x20Error\x20fetching\x20from\x20Local\x20DB:','SensorData_','axios','251758wyJdWQ','ydeqR','Sensor\x20deactivated\x20successfully','/api/subsite/sensor/activation/activate','Local\x20DB\x20insert\x20failed','✅\x20Sensor\x20','56826JdjhJW','SELECT\x20bank_id,\x20interval_seconds,\x20batch_size\x20FROM\x20','❌\x20Failed\x20to\x20drop\x20table\x20','MSAiL','1529127XQAchW','Failed\x20to\x20fetch\x20local\x20sub-site\x20sensors','run','DELETE\x20FROM\x20','XYFcY','all','Sensor\x20ID\x20and\x20Subsite\x20ID\x20required','kEkdl','\x0a\x20\x20\x20\x20\x20\x20\x20SET\x20interval_seconds\x20=\x20?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20batch_size\x20=\x20?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_at\x20=\x20CURRENT_TIMESTAMP\x20\x0a\x20\x20\x20\x20\x20\x20\x20WHERE\x20bank_id\x20=\x20?\x20AND\x20is_active\x20=\x200','Sensor\x20reactivated\x20successfully','UXFxC','usYTw','token','ZcJdb','ROOJj','❌\x20Error\x20in\x20getAllActiveSubSiteSensors:','❌\x20Failed\x20to\x20reactivate\x20sub-site\x20sensor:','dotenv','data','bank_id','9509709VCGBqT','\x20settings\x20updated\x20successfully','1905ifSWBC','yUHbx','cNwZf','verify','exports','pDXMr','PhGMF','2qGioYo','Removal\x20failed','UPDATE\x20','❌\x20Error\x20updating\x20sensor\x20settings:','2297384AfPkMh','companyId','jsonwebtoken','/api/subsite/sensor/activation/deactivate','yfuQh','batch_size','dabEM','adSNf','semhz','TQZXi','✅\x20Sub-site\x20sensor\x20reactivated\x20in\x20Cloud:','xcynu','wMiIW','body','mRCWA','FuNsj','❌\x20Error\x20activating\x20sub-site\x20sensor:','Internal\x20Server\x20Error','\x20SET\x20is_active\x20=\x201\x20WHERE\x20bank_id\x20=\x20?','post','MnHcM','kCAyW','❌\x20Error\x20deactivating\x20subsite\x20sensor:','iYJlj','❌\x20Error\x20updating\x20sub-site\x20sensor\x20settings:','hufZz','No\x20token\x20found','Bearer\x20','7HLJbve','❌\x20DB\x20Insert\x20failed:','4421150MhMkOc','Sensor_','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20(id,\x20bank_id,\x20mode,\x20interval_seconds,\x20batch_size,\x20is_active,\x20created_at,\x20updated_at)\x0a\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20\x27manual\x27,\x20?,\x20?,\x201,\x20datetime(\x27now\x27),\x20datetime(\x27now\x27))\x0a\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(id)\x20DO\x20UPDATE\x20SET\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20is_active\x20=\x201,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20interval_seconds\x20=\x20excluded.interval_seconds,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20batch_size\x20=\x20excluded.batch_size','Sensor\x20must\x20be\x20deactivated\x20to\x20update\x20settings','148cZsezl','response','status','❌\x20Failed\x20to\x20create\x20SensorData\x20table\x20','get','\x20reactivated\x20locally.','map','qZdKz','/api/subsite/sensor/activation/remove','message','Sensor\x20ID\x20and\x20sub-site\x20ID\x20are\x20required','✅\x20Sub-site\x20Sensor\x20','rAsNb','Sensor\x20','Aqgbh','LNmkT','❌\x20Error\x20removing\x20subsite\x20sensor:','changes','HCFAS','5FjxTIj','bUIvJ','error','❌\x20Error\x20updating\x20local\x20sub-site\x20DB:','log','JWT_SECRET_APP','Table\x20creation\x20failed','Sensor\x20removed\x20and\x20table\x20dropped','AUUBI','../db/sensorDB','aeLfj','Failed\x20to\x20reactivate\x20sensor','interval_seconds'];a0_0x5e21=function(){return _0x47c498;};return a0_0x5e21();}const axios=require(a0_0x29d32d(0x236)),jwt=require(a0_0x29d32d(0x1ed)),{db,createSensorDataTable}=require(a0_0x29d32d(0x229));require(a0_0x29d32d(0x252))['config']();function a0_0x1b6c(_0x5980dd,_0x248f26){const _0x5e21f9=a0_0x5e21();return a0_0x1b6c=function(_0x1b6c5d,_0x24de6e){_0x1b6c5d=_0x1b6c5d-0x1e8;let _0x19d1c3=_0x5e21f9[_0x1b6c5d];return _0x19d1c3;},a0_0x1b6c(_0x5980dd,_0x248f26);}const getStoredToken=()=>{const _0x585752=a0_0x29d32d,_0x3cd058={'GniPY':function(_0x3445b6,_0xba39d4){return _0x3445b6||_0xba39d4;},'ZcJdb':function(_0x3af6a4,_0x351b6e){return _0x3af6a4(_0x351b6e);},'UXFxC':_0x585752(0x205),'qZdKz':'SELECT\x20token\x20FROM\x20AuthTokens\x20ORDER\x20BY\x20id\x20DESC\x20LIMIT\x201'};return new Promise((_0xaef60d,_0x18523f)=>{const _0x176daa=_0x585752;db[_0x176daa(0x211)](_0x3cd058[_0x176daa(0x214)],[],(_0x10d7e5,_0x321feb)=>{const _0x452913=_0x176daa;if(_0x3cd058['GniPY'](_0x10d7e5,!_0x321feb))return _0x3cd058[_0x452913(0x24e)](_0x18523f,_0x3cd058[_0x452913(0x24b)]);_0x3cd058['ZcJdb'](_0xaef60d,_0x321feb[_0x452913(0x24d)]);});});},getAdminDetailsFromToken=async()=>{const _0x5c3dff=a0_0x29d32d,_0x3f719f=await getStoredToken(),_0x29987f=jwt[_0x5c3dff(0x25a)](_0x3f719f,process['env'][_0x5c3dff(0x225)]);return{'token':_0x3f719f,'companyId':_0x29987f[_0x5c3dff(0x1ec)]};},activateSubSiteSensor=async(_0x12a8bd,_0x3aae08)=>{const _0x14859f=a0_0x29d32d,_0x1cf663={'AUUBI':_0x14859f(0x226),'kEkdl':'Sensor\x20activated\x20successfully','pDXMr':_0x14859f(0x208),'yYVJN':_0x14859f(0x23b),'ROOJj':function(_0x35a071,_0x4de8c6){return _0x35a071||_0x4de8c6;},'HCFAS':function(_0x5a4a8a){return _0x5a4a8a();},'MSAiL':function(_0x433bad,_0x1cc4b4){return _0x433bad??_0x1cc4b4;},'yUHbx':_0x14859f(0x1fb),'LcsWD':'Activation\x20failed'};try{const {sensorId:_0xbd13ae,subsiteId:_0x2fb323,interval_seconds:_0x46f15b,batch_size:_0x1409ab}=_0x12a8bd[_0x14859f(0x1f8)];if(_0x1cf663[_0x14859f(0x24f)](!_0xbd13ae,!_0x2fb323))return _0x3aae08[_0x14859f(0x20f)](0x190)[_0x14859f(0x232)]({'message':_0x14859f(0x247)});const {token:_0x352c91,companyId:_0x5e2381}=await _0x1cf663[_0x14859f(0x21f)](getAdminDetailsFromToken),_0x7efc2c=_0x1cf663[_0x14859f(0x240)](_0x46f15b,0xa),_0x4c99e5=_0x1cf663[_0x14859f(0x240)](_0x1409ab,0x5),_0x2885df=process[_0x14859f(0x230)]['CLOUD_API_URL']+_0x14859f(0x23a);await axios[_0x14859f(0x1fe)](_0x2885df,{'sensorId':_0xbd13ae,'subsiteId':_0x2fb323,'companyId':_0x5e2381},{'headers':{'Authorization':_0x14859f(0x206)+_0x352c91}});const _0x97ed1f='Sensor_'+_0x5e2381+'_'+_0x2fb323,_0x3aba68=_0x14859f(0x235)+_0x5e2381+'_'+_0x2fb323+'_'+_0xbd13ae;db[_0x14859f(0x243)]('INSERT\x20INTO\x20'+_0x97ed1f+_0x14859f(0x20b),[_0xbd13ae,_0xbd13ae,_0x7efc2c,_0x4c99e5],_0x216217=>{const _0x5d0c90=_0x14859f,_0x5462af={'xcynu':_0x1cf663[_0x5d0c90(0x228)],'ntVrh':_0x1cf663[_0x5d0c90(0x248)]};if(_0x216217)return console['error'](_0x1cf663[_0x5d0c90(0x25c)],_0x216217[_0x5d0c90(0x216)]),_0x3aae08['status'](0x1f4)[_0x5d0c90(0x232)]({'message':_0x1cf663['yYVJN']});db[_0x5d0c90(0x243)]('CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+_0x3aba68+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sensor_id\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20quality\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20quality_good\x20BOOLEAN,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timestamp\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FOREIGN\x20KEY(sensor_id)\x20REFERENCES\x20SensorBank_'+_0x5e2381+'_'+_0x2fb323+_0x5d0c90(0x22d),_0xa4baf5=>{const _0x47f486=_0x5d0c90;if(_0xa4baf5)return console[_0x47f486(0x222)](_0x47f486(0x210)+_0x3aba68+':',_0xa4baf5[_0x47f486(0x216)]),_0x3aae08['status'](0x1f4)[_0x47f486(0x232)]({'message':_0x5462af[_0x47f486(0x1f6)]});_0x3aae08[_0x47f486(0x20f)](0xc8)[_0x47f486(0x232)]({'message':_0x5462af['ntVrh']});});});}catch(_0x5b1825){console['error'](_0x1cf663[_0x14859f(0x258)],_0x5b1825[_0x14859f(0x216)]),_0x3aae08[_0x14859f(0x20f)](0x1f4)[_0x14859f(0x232)]({'message':_0x1cf663['LcsWD'],'error':_0x5b1825['message']});}},deactivateSubSiteSensor=async(_0x442f1d,_0x4f89ba)=>{const _0x1913a5=a0_0x29d32d,_0x530b83={'TQZXi':'❌\x20DB\x20update\x20failed:','LNmkT':_0x1913a5(0x239),'RAaOT':function(_0x54e8d5,_0x564e32){return _0x54e8d5||_0x564e32;},'bUIvJ':function(_0x8acc27){return _0x8acc27();},'rAsNb':_0x1913a5(0x201),'XYFcY':'Deactivation\x20failed'};try{const {sensorId:_0xe43682,subsiteId:_0x3c5d54}=_0x442f1d[_0x1913a5(0x1f8)];if(_0x530b83['RAaOT'](!_0xe43682,!_0x3c5d54))return _0x4f89ba['status'](0x190)[_0x1913a5(0x232)]({'message':_0x1913a5(0x247)});const {token:_0x572b98,companyId:_0x2d8dd0}=await _0x530b83[_0x1913a5(0x221)](getAdminDetailsFromToken),_0x3c617e=process[_0x1913a5(0x230)]['CLOUD_API_URL']+_0x1913a5(0x1ee);await axios['post'](_0x3c617e,{'sensorId':_0xe43682,'subsiteId':_0x3c5d54},{'headers':{'Authorization':_0x1913a5(0x206)+_0x572b98}});const _0x16324e=_0x1913a5(0x20a)+_0x2d8dd0+'_'+_0x3c5d54;db[_0x1913a5(0x243)](_0x1913a5(0x1e9)+_0x16324e+'\x20SET\x20is_active\x20=\x200\x20WHERE\x20bank_id\x20=\x20?',[_0xe43682],_0x221efb=>{const _0x34a87b=_0x1913a5;if(_0x221efb)return console[_0x34a87b(0x222)](_0x530b83[_0x34a87b(0x1f4)],_0x221efb[_0x34a87b(0x216)]),_0x4f89ba[_0x34a87b(0x20f)](0x1f4)[_0x34a87b(0x232)]({'message':'Local\x20deactivation\x20failed'});_0x4f89ba[_0x34a87b(0x20f)](0xc8)[_0x34a87b(0x232)]({'message':_0x530b83[_0x34a87b(0x21c)]});});}catch(_0x182253){console[_0x1913a5(0x222)](_0x530b83[_0x1913a5(0x219)],_0x182253[_0x1913a5(0x216)]),_0x4f89ba[_0x1913a5(0x20f)](0x1f4)[_0x1913a5(0x232)]({'message':_0x530b83[_0x1913a5(0x245)],'error':_0x182253[_0x1913a5(0x216)]});}},removeSubSiteSensor=async(_0x4363e5,_0x5fe697)=>{const _0x28e152=a0_0x29d32d,_0xac0f7d={'MnHcM':function(_0x181ef0,_0x5c2a11){return _0x181ef0||_0x5c2a11;},'semhz':_0x28e152(0x247),'Aqgbh':function(_0x560ff8){return _0x560ff8();},'TEsHr':_0x28e152(0x21d),'Qivtx':_0x28e152(0x1e8)};try{const {sensorId:_0x362053,subsiteId:_0x4b7a31}=_0x4363e5[_0x28e152(0x1f8)];if(_0xac0f7d[_0x28e152(0x1ff)](!_0x362053,!_0x4b7a31))return _0x5fe697[_0x28e152(0x20f)](0x190)[_0x28e152(0x232)]({'message':_0xac0f7d[_0x28e152(0x1f3)]});const {token:_0x9df460,companyId:_0x26bf99}=await _0xac0f7d[_0x28e152(0x21b)](getAdminDetailsFromToken),_0xb385c1=process[_0x28e152(0x230)][_0x28e152(0x22e)]+_0x28e152(0x215);await axios[_0x28e152(0x1fe)](_0xb385c1,{'sensorId':_0x362053,'subsiteId':_0x4b7a31},{'headers':{'Authorization':_0x28e152(0x206)+_0x9df460}});const _0x5b4621='Sensor_'+_0x26bf99+'_'+_0x4b7a31,_0x1be5e6='SensorData_'+_0x26bf99+'_'+_0x4b7a31+'_'+_0x362053;db[_0x28e152(0x243)](_0x28e152(0x244)+_0x5b4621+'\x20WHERE\x20bank_id\x20=\x20?',[_0x362053],_0x3345df=>{const _0x16837f=_0x28e152;if(_0x3345df)console['error']('❌\x20Failed\x20to\x20delete\x20from\x20'+_0x5b4621+':',_0x3345df[_0x16837f(0x216)]);else db[_0x16837f(0x243)]('DROP\x20TABLE\x20IF\x20EXISTS\x20'+_0x1be5e6,async _0x2e65a4=>{const _0x39358e=_0x16837f;if(_0x2e65a4)console[_0x39358e(0x222)](_0x39358e(0x23f)+_0x1be5e6+':',_0x2e65a4[_0x39358e(0x216)]);else _0x5fe697[_0x39358e(0x20f)](0xc8)[_0x39358e(0x232)]({'message':_0x39358e(0x227)});});});}catch(_0xd656d4){console[_0x28e152(0x222)](_0xac0f7d['TEsHr'],_0xd656d4[_0x28e152(0x216)]),_0x5fe697[_0x28e152(0x20f)](0x1f4)['json']({'message':_0xac0f7d['Qivtx'],'error':_0xd656d4['message']});}},getAllActiveSubSiteSensors=async(_0x5a7969,_0x5b10d9)=>{const _0x464095=a0_0x29d32d,_0x4f29b7={'hufZz':_0x464095(0x234),'wMiIW':function(_0x1281ed,_0xac6ad8){return _0x1281ed(_0xac6ad8);},'WJDZo':_0x464095(0x242),'FuNsj':'Sub-site\x20ID\x20is\x20required','iYJlj':function(_0x377652){return _0x377652();},'cNwZf':'Fetched\x20sub-site\x20active\x20sensors\x20with\x20local\x20settings','WCQxV':_0x464095(0x1fc)};try{const {subsiteId:_0x25fb7e}=_0x5a7969['query'];if(!_0x25fb7e)return _0x5b10d9[_0x464095(0x20f)](0x190)[_0x464095(0x232)]({'message':_0x4f29b7[_0x464095(0x1fa)]});const _0x18bd2c=await _0x4f29b7[_0x464095(0x202)](getStoredToken),_0x427635=await _0x4f29b7[_0x464095(0x202)](getAdminDetailsFromToken),_0x1ee205=process[_0x464095(0x230)][_0x464095(0x22e)]+'/api/subsite/sensor/activation/active?subsite_id='+_0x25fb7e,_0x5d0460=await axios['get'](_0x1ee205,{'headers':{'Authorization':_0x464095(0x206)+_0x18bd2c}}),_0x51aabb=_0x5d0460[_0x464095(0x253)]?.['sensors']||[],_0x3ecada=_0x464095(0x20a)+_0x427635+'_'+_0x25fb7e,_0x1f9c99=await new Promise((_0x2cdefe,_0x260fc0)=>{const _0x57a475=_0x464095;db[_0x57a475(0x246)](_0x57a475(0x23e)+_0x3ecada+'\x20WHERE\x20is_active\x20=\x201',[],(_0xe195b4,_0x489eb2)=>{const _0x9bcf5=_0x57a475;if(_0xe195b4)return console[_0x9bcf5(0x222)](_0x4f29b7[_0x9bcf5(0x204)],_0xe195b4[_0x9bcf5(0x216)]),_0x4f29b7[_0x9bcf5(0x1f7)](_0x260fc0,_0x4f29b7['WJDZo']);_0x4f29b7['wMiIW'](_0x2cdefe,_0x489eb2);});}),_0x22bc15=_0x51aabb[_0x464095(0x213)](_0x13c8d3=>{const _0x1f509d=_0x464095,_0x5cffad=_0x1f9c99['find'](_0x32faab=>Number(_0x32faab['bank_id'])===Number(_0x13c8d3[_0x1f509d(0x254)]));return{..._0x13c8d3,'interval_seconds':_0x5cffad?.[_0x1f509d(0x22c)]||0xa,'batch_size':_0x5cffad?.[_0x1f509d(0x1f0)]||0x1};});_0x5b10d9[_0x464095(0x20f)](0xc8)['json']({'message':_0x4f29b7[_0x464095(0x259)],'sensors':_0x22bc15});}catch(_0x24bf32){console['error'](_0x464095(0x250),_0x24bf32),_0x5b10d9[_0x464095(0x20f)](0x1f4)[_0x464095(0x232)]({'message':_0x4f29b7['WCQxV'],'error':_0x24bf32[_0x464095(0x216)]});}},reactivateSubSiteSensor=async(_0x4074df,_0x39abc6)=>{const _0x527470=a0_0x29d32d,_0x11a57d={'HDGgu':function(_0xc64e0d,_0x2d7c67){return _0xc64e0d||_0x2d7c67;},'mRCWA':_0x527470(0x217),'adSNf':function(_0x103359){return _0x103359();},'kCAyW':_0x527470(0x1f5),'aeLfj':_0x527470(0x24a),'mjVlO':_0x527470(0x251),'yfuQh':_0x527470(0x22b)};try{const {sensorId:_0x47aba1,subsiteId:_0x17a8b8}=_0x4074df[_0x527470(0x1f8)];if(_0x11a57d[_0x527470(0x22f)](!_0x47aba1,!_0x17a8b8))return _0x39abc6[_0x527470(0x20f)](0x190)[_0x527470(0x232)]({'message':_0x11a57d[_0x527470(0x1f9)]});const _0x220c5d=await _0x11a57d[_0x527470(0x1f2)](getStoredToken),_0x2a07c4=await getAdminDetailsFromToken(),_0x5852f6=process[_0x527470(0x230)]['CLOUD_API_URL']+'/api/subsite/sensor/activation/reactivate',_0x5e530e=await axios[_0x527470(0x1fe)](_0x5852f6,{'sensorId':_0x47aba1,'subsiteId':_0x17a8b8},{'headers':{'Authorization':_0x527470(0x206)+_0x220c5d}});console[_0x527470(0x224)](_0x11a57d[_0x527470(0x200)],_0x5e530e[_0x527470(0x253)]);const _0x45a130='Sensor_'+_0x2a07c4+'_'+_0x17a8b8;db['run']('UPDATE\x20'+_0x45a130+_0x527470(0x1fd),[_0x47aba1],_0x5363c1=>{const _0x183c6a=_0x527470;_0x5363c1?console['error'](_0x183c6a(0x223),_0x5363c1[_0x183c6a(0x216)]):console['log'](_0x183c6a(0x218)+_0x47aba1+_0x183c6a(0x212));}),_0x39abc6[_0x527470(0x20f)](0xc8)['json']({'message':_0x11a57d[_0x527470(0x22a)],'cloudResponse':_0x5e530e[_0x527470(0x253)]});}catch(_0x1d2450){console[_0x527470(0x222)](_0x11a57d['mjVlO'],_0x1d2450[_0x527470(0x20e)]?.['data']||_0x1d2450[_0x527470(0x216)]),_0x39abc6[_0x527470(0x20f)](0x1f4)[_0x527470(0x232)]({'message':_0x11a57d[_0x527470(0x1ef)],'error':_0x1d2450[_0x527470(0x216)]});}},updateSubSiteSensorSettings=async(_0x12d179,_0x55f582)=>{const _0x5e2f93=a0_0x29d32d,_0x4e5fd4={'piFqz':_0x5e2f93(0x1ea),'FknZJ':function(_0x5ba386,_0x18581b){return _0x5ba386===_0x18581b;},'ydeqR':_0x5e2f93(0x20c),'dabEM':function(_0x5b353e,_0x492511){return _0x5b353e||_0x492511;},'usYTw':function(_0x1a2b1d,_0x10a854){return _0x1a2b1d==_0x10a854;},'PhGMF':function(_0x34dc01){return _0x34dc01();},'ZpiGs':_0x5e2f93(0x1fc)};try{const {sensorId:_0x1ccae7,subsiteId:_0x1c9b2d,interval_seconds:_0x33f6d6,batch_size:_0x330854}=_0x12d179[_0x5e2f93(0x1f8)];if(_0x4e5fd4[_0x5e2f93(0x1f1)](!_0x1ccae7,!_0x1c9b2d)||_0x33f6d6==null||_0x4e5fd4[_0x5e2f93(0x24c)](_0x330854,null))return _0x55f582[_0x5e2f93(0x20f)](0x190)[_0x5e2f93(0x232)]({'message':_0x5e2f93(0x233)});const {companyId:_0x31627e}=await _0x4e5fd4[_0x5e2f93(0x25d)](getAdminDetailsFromToken),_0x204f0a=_0x5e2f93(0x20a)+_0x31627e+'_'+_0x1c9b2d;db[_0x5e2f93(0x243)]('UPDATE\x20'+_0x204f0a+_0x5e2f93(0x249),[_0x33f6d6,_0x330854,_0x1ccae7],function(_0x5f302d){const _0x585acf=_0x5e2f93;if(_0x5f302d)return console[_0x585acf(0x222)](_0x4e5fd4['piFqz'],_0x5f302d[_0x585acf(0x216)]),_0x55f582[_0x585acf(0x20f)](0x1f4)[_0x585acf(0x232)]({'message':'Update\x20failed','error':_0x5f302d[_0x585acf(0x216)]});if(_0x4e5fd4['FknZJ'](this[_0x585acf(0x21e)],0x0))return _0x55f582[_0x585acf(0x20f)](0x190)[_0x585acf(0x232)]({'message':_0x4e5fd4[_0x585acf(0x238)]});console['log'](_0x585acf(0x23c)+_0x1ccae7+_0x585acf(0x231)),_0x55f582['status'](0xc8)[_0x585acf(0x232)]({'message':_0x585acf(0x21a)+_0x1ccae7+_0x585acf(0x256)});});}catch(_0x3a1f6c){console[_0x5e2f93(0x222)](_0x5e2f93(0x203),_0x3a1f6c[_0x5e2f93(0x216)]),_0x55f582[_0x5e2f93(0x20f)](0x1f4)[_0x5e2f93(0x232)]({'message':_0x4e5fd4['ZpiGs'],'error':_0x3a1f6c[_0x5e2f93(0x216)]});}};module[a0_0x29d32d(0x25b)]={'activateSubSiteSensor':activateSubSiteSensor,'deactivateSubSiteSensor':deactivateSubSiteSensor,'removeSubSiteSensor':removeSubSiteSensor,'getAllActiveSubSiteSensors':getAllActiveSubSiteSensors,'reactivateSubSiteSensor':reactivateSubSiteSensor,'updateSubSiteSensorSettings':updateSubSiteSensorSettings};