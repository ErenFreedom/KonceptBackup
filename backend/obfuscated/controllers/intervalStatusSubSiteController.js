const a0_0x804758=a0_0x419a;(function(_0x477fa7,_0x27aca6){const _0x51afe6=a0_0x419a,_0x2bb5ba=_0x477fa7();while(!![]){try{const _0xefc58f=parseInt(_0x51afe6(0x196))/0x1+-parseInt(_0x51afe6(0x1a8))/0x2+-parseInt(_0x51afe6(0x1b1))/0x3+-parseInt(_0x51afe6(0x19a))/0x4*(parseInt(_0x51afe6(0x194))/0x5)+parseInt(_0x51afe6(0x1ab))/0x6*(parseInt(_0x51afe6(0x199))/0x7)+-parseInt(_0x51afe6(0x1aa))/0x8*(parseInt(_0x51afe6(0x19f))/0x9)+parseInt(_0x51afe6(0x192))/0xa;if(_0xefc58f===_0x27aca6)break;else _0x2bb5ba['push'](_0x2bb5ba['shift']());}catch(_0x6b0c24){_0x2bb5ba['push'](_0x2bb5ba['shift']());}}}(a0_0x49cb,0xe28af));const {db}=require(a0_0x804758(0x1ae)),jwt=require(a0_0x804758(0x19d));require(a0_0x804758(0x1a3))[a0_0x804758(0x1a6)]();const getCompanyIdFromToken=_0x341f5a=>{const _0x376f77=a0_0x804758,_0x5be620={'atyqE':'❌\x20Invalid\x20JWT\x20token\x20in\x20intervalStatusSubSite:'};try{const _0x450041=_0x341f5a['headers'][_0x376f77(0x19c)]?.[_0x376f77(0x19b)]('\x20')[0x1];if(!_0x450041)return null;const _0x476dda=jwt[_0x376f77(0x1b0)](_0x450041,process[_0x376f77(0x1af)]['JWT_SECRET_APP']);return _0x476dda['companyId'];}catch(_0x4a4abe){return console[_0x376f77(0x1a4)](_0x5be620['atyqE'],_0x4a4abe['message']),null;}},getSubsiteIntervalStatus=(_0x2605f3,_0x6f6c36)=>{const _0xd4d83f=a0_0x804758,_0x316534={'MMAEh':function(_0x2247b3,_0x2b2097){return _0x2247b3===_0x2b2097;},'nyYkE':function(_0x522098,_0x20ea89){return _0x522098===_0x20ea89;},'OpNXR':_0xd4d83f(0x198),'hESbD':function(_0x2c2664,_0x1de39a){return _0x2c2664(_0x1de39a);},'COQom':function(_0x806732,_0xf8a01b){return _0x806732||_0xf8a01b;},'QMmri':_0xd4d83f(0x1b2)},{subsite_id:_0x2074f4}=_0x2605f3[_0xd4d83f(0x1a7)],_0x386f6f=_0x316534['hESbD'](getCompanyIdFromToken,_0x2605f3);if(_0x316534[_0xd4d83f(0x1b3)](!_0x386f6f,!_0x2074f4))return _0x6f6c36['status'](0x190)['json']({'message':_0x316534[_0xd4d83f(0x191)]});const _0x48009a=_0xd4d83f(0x1a1)+_0x386f6f+'_'+_0x2074f4;db[_0xd4d83f(0x19e)](_0xd4d83f(0x1a2)+_0x48009a,[],(_0x4013d1,_0x289d71)=>{const _0x1a8093=_0xd4d83f;if(_0x4013d1)return console['error'](_0x1a8093(0x1a9)+_0x48009a+':',_0x4013d1[_0x1a8093(0x195)]),_0x6f6c36[_0x1a8093(0x193)](0x1f4)['json']({'message':_0x316534[_0x1a8093(0x1ac)]});const _0x470b55={};_0x289d71[_0x1a8093(0x1a0)](_0x102993=>{const _0x22ce58=_0x1a8093;_0x470b55[_0x102993['sensor_id']]={'is_fetching':_0x316534[_0x22ce58(0x197)](_0x102993[_0x22ce58(0x1a5)],0x1),'is_sending':_0x316534[_0x22ce58(0x190)](_0x102993[_0x22ce58(0x1ad)],0x1)};}),_0x6f6c36[_0x1a8093(0x193)](0xc8)['json'](_0x470b55);});};function a0_0x419a(_0x2e6be7,_0x4dcbac){const _0x49cb64=a0_0x49cb();return a0_0x419a=function(_0x419a56,_0x5ebb14){_0x419a56=_0x419a56-0x190;let _0x472051=_0x49cb64[_0x419a56];return _0x472051;},a0_0x419a(_0x2e6be7,_0x4dcbac);}module['exports']={'getSubsiteIntervalStatus':getSubsiteIntervalStatus};function a0_0x49cb(){const _0x26096b=['companyId\x20and\x20subsite_id\x20are\x20required.','COQom','nyYkE','QMmri','30005830YDHLcm','status','6668135hvurRs','message','537943YipMPZ','MMAEh','Failed\x20to\x20fetch\x20interval\x20statuses\x20for\x20sub-site.','1589000emrGMy','4crjrLz','split','authorization','jsonwebtoken','all','9oytatp','forEach','IntervalControl_','SELECT\x20*\x20FROM\x20','dotenv','error','is_fetching','config','query','166464gVBOmN','❌\x20DB\x20error\x20fetching\x20interval\x20statuses\x20from\x20','13854176NibKlK','18dsuuxv','OpNXR','is_sending','../db/sensorDB','env','verify','428928hwpbWR'];a0_0x49cb=function(){return _0x26096b;};return a0_0x49cb();}