function a0_0x9aa5(){const _0x3b247e=['config','is_fetching','❌\x20Invalid\x20token:','SELECT\x20is_fetching,\x20is_sending\x20FROM\x20','780993xlfMAF','is_sending','4756584mMspbx','env','authorization','sensor_id\x20and\x20subsite_id\x20are\x20required.','timestamp','Database\x20error.','euXDY','zKGYf','59493IxjdUz','1046738PEKxiH','companyId','24798616oXBfrJ','message','split','map','tJKWc','status','oqNCT','verify','EFdun','../db/sensorDB','Error\x20fetching\x20logs.','IntervalControl_','WTDXP','9prtsEh','SensorLogs_','error','❌\x20Error\x20fetching\x20logs\x20from\x20','❌\x20Error\x20fetching\x20interval\x20status\x20from\x20','json','headers','log','sHqht','34080KtpMsh','SELECT\x20log,\x20timestamp\x20FROM\x20','query','\x20WHERE\x20sensor_id\x20=\x20?\x20ORDER\x20BY\x20timestamp\x20DESC\x20LIMIT\x2050','4LkRYvi','No\x20interval\x20status\x20found\x20for\x20this\x20sensor.','3562070qLVbQl','get'];a0_0x9aa5=function(){return _0x3b247e;};return a0_0x9aa5();}const a0_0x35c84d=a0_0xaa47;(function(_0x7b9548,_0x3c6a00){const _0x457b29=a0_0xaa47,_0x5370d6=_0x7b9548();while(!![]){try{const _0x591d7e=-parseInt(_0x457b29(0xe4))/0x1+-parseInt(_0x457b29(0xef))/0x2+parseInt(_0x457b29(0xee))/0x3*(parseInt(_0x457b29(0xdc))/0x4)+-parseInt(_0x457b29(0xde))/0x5+parseInt(_0x457b29(0xd8))/0x6+-parseInt(_0x457b29(0xe6))/0x7+parseInt(_0x457b29(0xf1))/0x8*(parseInt(_0x457b29(0xcf))/0x9);if(_0x591d7e===_0x3c6a00)break;else _0x5370d6['push'](_0x5370d6['shift']());}catch(_0x3bc005){_0x5370d6['push'](_0x5370d6['shift']());}}}(a0_0x9aa5,0x68bfa));const {db}=require(a0_0x35c84d(0xfa)),jwt=require('jsonwebtoken');require('dotenv')[a0_0x35c84d(0xe0)]();function a0_0xaa47(_0x26bbe8,_0x10fd54){const _0x9aa55b=a0_0x9aa5();return a0_0xaa47=function(_0xaa4772,_0x56e3f5){_0xaa4772=_0xaa4772-0xce;let _0x2d70e4=_0x9aa55b[_0xaa4772];return _0x2d70e4;},a0_0xaa47(_0x26bbe8,_0x10fd54);}const getCompanyIdFromToken=_0x10eaf4=>{const _0x55ad97=a0_0x35c84d,_0x135bc6={'EFdun':_0x55ad97(0xe2)};try{const _0x3f918f=_0x10eaf4[_0x55ad97(0xd5)][_0x55ad97(0xe8)]?.[_0x55ad97(0xf3)]('\x20')[0x1];if(!_0x3f918f)return null;const _0x30a1d9=jwt[_0x55ad97(0xf8)](_0x3f918f,process[_0x55ad97(0xe7)]['JWT_SECRET_APP']);return _0x30a1d9[_0x55ad97(0xf0)];}catch(_0x2a26b9){return console[_0x55ad97(0xd1)](_0x135bc6[_0x55ad97(0xf9)],_0x2a26b9[_0x55ad97(0xf2)]),null;}},getSubsiteSensorLogStatus=(_0x422567,_0x4f5707)=>{const _0x29082b=a0_0x35c84d,_0x5cf5b8={'tJKWc':_0x29082b(0xfb),'zKGYf':function(_0x4e82b4,_0x428e68){return _0x4e82b4===_0x428e68;},'sHqht':function(_0x252978,_0x42009f){return _0x252978===_0x42009f;},'oqNCT':_0x29082b(0xeb),'pUNoX':_0x29082b(0xdd),'cRwuG':function(_0x194bd2,_0x19a12b){return _0x194bd2||_0x19a12b;},'euXDY':function(_0x22b38c,_0x303c5a){return _0x22b38c(_0x303c5a);},'WTDXP':'Invalid\x20or\x20missing\x20token.'},{sensor_id:_0x33db96,subsite_id:_0x3f1adf}=_0x422567[_0x29082b(0xda)];if(_0x5cf5b8['cRwuG'](!_0x33db96,!_0x3f1adf))return _0x4f5707[_0x29082b(0xf6)](0x190)[_0x29082b(0xd4)]({'message':_0x29082b(0xe9)});const _0x2b2311=_0x5cf5b8[_0x29082b(0xec)](getCompanyIdFromToken,_0x422567);if(!_0x2b2311)return _0x4f5707[_0x29082b(0xf6)](0x191)[_0x29082b(0xd4)]({'message':_0x5cf5b8[_0x29082b(0xce)]});const _0x3e788b=_0x29082b(0xfc)+_0x2b2311+'_'+_0x3f1adf,_0x27f6a4=_0x29082b(0xd0)+_0x2b2311+'_'+_0x3f1adf;db[_0x29082b(0xdf)](_0x29082b(0xe3)+_0x3e788b+'\x20WHERE\x20sensor_id\x20=\x20?',[_0x33db96],(_0x454aea,_0x4bd2de)=>{const _0x6db43b=_0x29082b;if(_0x454aea)return console[_0x6db43b(0xd1)](_0x6db43b(0xd3)+_0x3e788b+':',_0x454aea[_0x6db43b(0xf2)]),_0x4f5707[_0x6db43b(0xf6)](0x1f4)[_0x6db43b(0xd4)]({'message':_0x5cf5b8[_0x6db43b(0xf7)]});if(!_0x4bd2de)return _0x4f5707[_0x6db43b(0xf6)](0x194)['json']({'message':_0x5cf5b8['pUNoX']});db['all'](_0x6db43b(0xd9)+_0x27f6a4+_0x6db43b(0xdb),[_0x33db96],(_0x507c7f,_0x444d05)=>{const _0x3f3910=_0x6db43b;if(_0x507c7f)return console['error'](_0x3f3910(0xd2)+_0x27f6a4+':',_0x507c7f[_0x3f3910(0xf2)]),_0x4f5707['status'](0x1f4)[_0x3f3910(0xd4)]({'message':_0x5cf5b8[_0x3f3910(0xf5)]});return _0x4f5707[_0x3f3910(0xf6)](0xc8)[_0x3f3910(0xd4)]({'sensor_id':_0x33db96,'is_fetching':_0x5cf5b8[_0x3f3910(0xed)](_0x4bd2de[_0x3f3910(0xe1)],0x1),'is_sending':_0x5cf5b8[_0x3f3910(0xd7)](_0x4bd2de[_0x3f3910(0xe5)],0x1),'logs':_0x444d05[_0x3f3910(0xf4)](_0x166bc6=>'['+_0x166bc6[_0x3f3910(0xea)]+']\x20'+_0x166bc6[_0x3f3910(0xd6)])});});});};module['exports']={'getSubsiteSensorLogStatus':getSubsiteSensorLogStatus};