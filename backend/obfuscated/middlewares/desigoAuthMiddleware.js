function a1_0x5e62(_0x2e0c23,_0x52f6d4){const _0x5bf515=a1_0x5bf5();return a1_0x5e62=function(_0x5e626b,_0x4ae76f){_0x5e626b=_0x5e626b-0x1ca;let _0x42ff46=_0x5bf515[_0x5e626b];return _0x42ff46;},a1_0x5e62(_0x2e0c23,_0x52f6d4);}const a1_0x46bf9e=a1_0x5e62;function a1_0x5bf5(){const _0x58a9f0=['message','7wJitij','json','2CTCpLY','❌\x20Database\x20error:','7595mVDJqA','5176670iBFSTC','kxqfB','🔍\x20Received\x20Desigo\x20Token\x20from\x20Request:\x20','Forbidden:\x20Invalid\x20Token','SELECT\x20token,\x20expires_at\x20FROM\x20DesigoAuthTokens\x20WHERE\x20token\x20=\x20?','status','🔍\x20Expiration\x20Check:\x20','14533192SrXddK','9uIyAas','Internal\x20Server\x20Error','199572UpQlOX','1230945PCpPMj','error','nQVCn','cOGdJ','get','\x20vs\x20','headers','Forbidden:\x20Token\x20Expired','DAeqv','1969ieAbzM','6516lmXIWX','MbQtB','expires_at','KvnCH','CYHtp','Unauthorized:\x20No\x20Desigo\x20Token\x20Provided','exports','6987888dDCHTh','parse','udZiN','paRdO','JjTyS','241793lYfrfI','log','❌\x20No\x20Desigo\x20token\x20provided\x20in\x20the\x20request.'];a1_0x5bf5=function(){return _0x58a9f0;};return a1_0x5bf5();}(function(_0x4b8e0e,_0x842f05){const _0x16c6a4=a1_0x5e62,_0x5a5c8b=_0x4b8e0e();while(!![]){try{const _0x3c5b01=parseInt(_0x16c6a4(0x1d1))/0x1*(-parseInt(_0x16c6a4(0x1d7))/0x2)+-parseInt(_0x16c6a4(0x1e5))/0x3+-parseInt(_0x16c6a4(0x1cc))/0x4+-parseInt(_0x16c6a4(0x1d9))/0x5*(-parseInt(_0x16c6a4(0x1ef))/0x6)+-parseInt(_0x16c6a4(0x1d5))/0x7*(parseInt(_0x16c6a4(0x1e1))/0x8)+-parseInt(_0x16c6a4(0x1e2))/0x9*(-parseInt(_0x16c6a4(0x1da))/0xa)+-parseInt(_0x16c6a4(0x1ee))/0xb*(-parseInt(_0x16c6a4(0x1e4))/0xc);if(_0x3c5b01===_0x842f05)break;else _0x5a5c8b['push'](_0x5a5c8b['shift']());}catch(_0x168606){_0x5a5c8b['push'](_0x5a5c8b['shift']());}}}(a1_0x5bf5,0xe2b09));const {db}=require('../db/sensorDB'),verifyDesigoAuthToken=(_0x13e07f,_0xaca834,_0x280c8e)=>{const _0x479802=a1_0x5e62,_0x1f1312={'CYHtp':_0x479802(0x1d8),'MbQtB':_0x479802(0x1e3),'DAeqv':'❌\x20Token\x20not\x20found\x20in\x20database.\x20Possible\x20mismatch\x20or\x20expired\x20login.','KvnCH':_0x479802(0x1dd),'nQVCn':function(_0x5e8204,_0x1aef3f){return _0x5e8204>=_0x1aef3f;},'QHkZt':'❌\x20Token\x20expired.','udZiN':_0x479802(0x1ec),'cOGdJ':function(_0x318f6a){return _0x318f6a();},'kxqfB':'desigo-authorization','ZLXXy':_0x479802(0x1d3),'JjTyS':_0x479802(0x1ca),'paRdO':_0x479802(0x1de)},_0xa2cb2=_0x13e07f[_0x479802(0x1eb)][_0x1f1312[_0x479802(0x1db)]],_0x2ecb52=_0xa2cb2&&_0xa2cb2['split']('\x20')[0x1];if(!_0x2ecb52)return console[_0x479802(0x1e6)](_0x1f1312['ZLXXy']),_0xaca834[_0x479802(0x1df)](0x191)['json']({'error':_0x1f1312[_0x479802(0x1d0)]});console[_0x479802(0x1d2)](_0x479802(0x1dc)+_0x2ecb52),db[_0x479802(0x1e9)](_0x1f1312[_0x479802(0x1cf)],[_0x2ecb52],(_0x1e78f7,_0x5ea682)=>{const _0xd07aab=_0x479802;if(_0x1e78f7)return console['error'](_0x1f1312[_0xd07aab(0x1f3)],_0x1e78f7[_0xd07aab(0x1d4)]),_0xaca834['status'](0x1f4)[_0xd07aab(0x1d6)]({'error':_0x1f1312[_0xd07aab(0x1f0)]});if(!_0x5ea682)return console[_0xd07aab(0x1e6)](_0x1f1312[_0xd07aab(0x1ed)]),_0xaca834[_0xd07aab(0x1df)](0x193)[_0xd07aab(0x1d6)]({'error':_0x1f1312[_0xd07aab(0x1f2)]});const _0x683ca0=Date[_0xd07aab(0x1cd)](_0x5ea682[_0xd07aab(0x1f1)]),_0x43c6c7=Date['now']();console[_0xd07aab(0x1d2)]('🕒\x20Current\x20UTC\x20Time:\x20'+new Date()['toISOString']()),console['log'](_0xd07aab(0x1e0)+_0x683ca0+_0xd07aab(0x1ea)+_0x43c6c7);if(isNaN(_0x683ca0)||_0x1f1312[_0xd07aab(0x1e7)](_0x43c6c7,_0x683ca0))return console[_0xd07aab(0x1e6)](_0x1f1312['QHkZt']),_0xaca834[_0xd07aab(0x1df)](0x193)['json']({'error':_0x1f1312[_0xd07aab(0x1ce)]});_0x13e07f['desigoToken']=_0x2ecb52,_0x1f1312[_0xd07aab(0x1e8)](_0x280c8e);});};module[a1_0x46bf9e(0x1cb)]={'verifyDesigoAuthToken':verifyDesigoAuthToken};